(()=>{var oe=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var U=(e,f)=>()=>(f||e((f={exports:{}}).exports,f),f.exports);var Q=U((pt,W)=>{var ae,ie,ue,ce,se,le,be,ye,de,q,K,ge,_e,pe,M,he,we,Oe,me,Ee,Be,Te,ve,F;(function(e){var f=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(t){e(u(f,u(t)))}):typeof W=="object"&&typeof W.exports=="object"?e(u(f,u(W.exports))):e(u(f));function u(t,n){return t!==f&&(typeof Object.create=="function"?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(r,o){return t[r]=n?n(r,o):o}}})(function(e){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])};ae=function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");f(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)},ie=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ue=function(t,n){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(r[o[i]]=t[o[i]]);return r},ce=function(t,n,r,o){var i=arguments.length,a=i<3?n:o===null?o=Object.getOwnPropertyDescriptor(n,r):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,n,r,o);else for(var b=t.length-1;b>=0;b--)(c=t[b])&&(a=(i<3?c(a):i>3?c(n,r,a):c(n,r))||a);return i>3&&a&&Object.defineProperty(n,r,a),a},se=function(t,n){return function(r,o){n(r,o,t)}},le=function(t,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,n)},be=function(t,n,r,o){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function b(p){try{s(o.next(p))}catch(w){c(w)}}function h(p){try{s(o.throw(p))}catch(w){c(w)}}function s(p){p.done?a(p.value):i(p.value).then(b,h)}s((o=o.apply(t,n||[])).next())})},ye=function(t,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,i,a,c;return c={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(s){return function(p){return h([s,p])}}function h(s){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,i=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){r.label=s[1];break}if(s[0]===6&&r.label<a[1]){r.label=a[1],a=s;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(s);break}a[2]&&r.ops.pop(),r.trys.pop();continue}s=n.call(t,r)}catch(p){s=[6,p],i=0}finally{o=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},de=function(t,n){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(n,r)&&F(n,t,r)},F=Object.create?function(t,n,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,o){o===void 0&&(o=r),t[o]=n[r]},q=function(t){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&t[n],o=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},K=function(t,n){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var o=r.call(t),i,a=[],c;try{for(;(n===void 0||n-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(b){c={error:b}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(c)throw c.error}}return a},ge=function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(K(arguments[n]));return t},_e=function(){for(var t=0,n=0,r=arguments.length;n<r;n++)t+=arguments[n].length;for(var o=Array(t),i=0,n=0;n<r;n++)for(var a=arguments[n],c=0,b=a.length;c<b;c++,i++)o[i]=a[c];return o},pe=function(t,n,r){if(r||arguments.length===2)for(var o=0,i=n.length,a;o<i;o++)(a||!(o in n))&&(a||(a=Array.prototype.slice.call(n,0,o)),a[o]=n[o]);return t.concat(a||Array.prototype.slice.call(n))},M=function(t){return this instanceof M?(this.v=t,this):new M(t)},he=function(t,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(t,n||[]),i,a=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(_){o[_]&&(i[_]=function(v){return new Promise(function(I,P){a.push([_,v,I,P])>1||b(_,v)})})}function b(_,v){try{h(o[_](v))}catch(I){w(a[0][3],I)}}function h(_){_.value instanceof M?Promise.resolve(_.value.v).then(s,p):w(a[0][2],_)}function s(_){b("next",_)}function p(_){b("throw",_)}function w(_,v){_(v),a.shift(),a.length&&b(a[0][0],a[0][1])}},we=function(t){var n,r;return n={},o("next"),o("throw",function(i){throw i}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(i,a){n[i]=t[i]?function(c){return(r=!r)?{value:M(t[i](c)),done:i==="return"}:a?a(c):c}:a}},Oe=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],r;return n?n.call(t):(t=typeof q=="function"?q(t):t[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(a){r[a]=t[a]&&function(c){return new Promise(function(b,h){c=t[a](c),i(b,h,c.done,c.value)})}}function i(a,c,b,h){Promise.resolve(h).then(function(s){a({value:s,done:b})},c)}},me=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t};var u=Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n};Ee=function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&F(n,t,r);return u(n,t),n},Be=function(t){return t&&t.__esModule?t:{default:t}},Te=function(t,n,r,o){if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?t!==n||!o:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?o:r==="a"?o.call(t):o?o.value:n.get(t)},ve=function(t,n,r,o,i){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?t!==n||!i:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?i.call(t,r):i?i.value=r:n.set(t,r),r},e("__extends",ae),e("__assign",ie),e("__rest",ue),e("__decorate",ce),e("__param",se),e("__metadata",le),e("__awaiter",be),e("__generator",ye),e("__exportStar",de),e("__createBinding",F),e("__values",q),e("__read",K),e("__spread",ge),e("__spreadArrays",_e),e("__spreadArray",pe),e("__await",M),e("__asyncGenerator",he),e("__asyncDelegator",we),e("__asyncValues",Oe),e("__makeTemplateObject",me),e("__importStar",Ee),e("__importDefault",Be),e("__classPrivateFieldGet",Te),e("__classPrivateFieldSet",ve)})});var Pe=U(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.isWritableBuffer=E.isBufferLike=E.CompiledDecode=E.CompiledEncode=void 0;var Ie=oe("buffer");E.CompiledEncode=Symbol("encode");E.CompiledDecode=Symbol("encode");function xe(e){return Ie.Buffer.isBuffer(e)||Array.isArray(e)||e.buffer&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number"}E.isBufferLike=xe;function qe(e){return Ie.Buffer.isBuffer(e)}E.isWritableBuffer=qe});var De=U(l=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.isDynamicType=l.isConstantType=l.DATA_TYPES=l.BUILTIN_TYPES=l.NUMBER_TYPE=l.DYNAMIC_TYPE=l.DYNAMIC_NUMBER_TYPE=l.CONSTANT_TYPE=l.CONSTANT_NUMBER_TYPE=void 0;l.CONSTANT_NUMBER_TYPE=["int8","uint8","int16","uint16","int32","uint32","float32","float64"];l.CONSTANT_TYPE=["boolean",...l.CONSTANT_NUMBER_TYPE];l.DYNAMIC_NUMBER_TYPE=["varuint","varint"];l.DYNAMIC_TYPE=[...l.DYNAMIC_NUMBER_TYPE,"string","buffer"];l.NUMBER_TYPE=[...l.CONSTANT_NUMBER_TYPE,...l.DYNAMIC_NUMBER_TYPE];l.BUILTIN_TYPES=[...l.CONSTANT_TYPE,...l.DYNAMIC_TYPE];l.DATA_TYPES=[...l.BUILTIN_TYPES];function Fe(e){return l.CONSTANT_TYPE.includes(e)}l.isConstantType=Fe;function We(e){return l.DYNAMIC_TYPE.includes(e)}l.isDynamicType=We});var Z=U(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});var Ae=Q();Ae.__exportStar(Pe(),G);Ae.__exportStar(De(),G)});var ne=U(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.build=g.setStringEncoding=g.getStringEncoding=g.setValidateByDefault=g.getValidateByDefault=g.getDataType=g.addTypeAlias=g.StringEncoding=void 0;var Y=oe("buffer"),j=Z();g.StringEncoding=["ascii","utf8","utf-8","utf16le","ucs2","ucs-2","base64","base64url","latin1","binary","hex"];var S="utf8",$=!0,k={};function Ce(e,f){if(j.BUILTIN_TYPES.indexOf(f)<0)throw new TypeError("Underlying type does not exist. Typo?");k[e]=f}g.addTypeAlias=Ce;function je(e){let f=j.BUILTIN_TYPES,u=e.trim().toLowerCase();if(u in k&&(u=k[u]),f.indexOf(u)===-1)throw new TypeError("Invalid data type for schema: "+e+" -> "+u);return u}g.getDataType=je;function Ge(){return $}g.getValidateByDefault=Ge;function Xe(e){$=e}g.setValidateByDefault=Xe;function ze(){return S}g.getStringEncoding=ze;function He(e){let f=e.trim().toLowerCase();if(g.StringEncoding.indexOf(f)>-1)S=f;else throw new TypeError("String encoding not available")}g.setStringEncoding=He;function X(e,f){for(;e>127;)f[y.byteOffset++]=e&127|128,e>>=7;f[y.byteOffset++]=e&127}function Je(e,f){X(e<<1^e>>31,f)}function z(e){let f=0,u=0,t;do t=e[y.byteOffset++],f|=(t&127)<<7*u,u++;while(t&128);return f}function Ke(e){let f=z(e);return f>>>1^-(f&1)}function Qe(e,f){let u=Y.Buffer.byteLength(e||"",S);X(u,f),y.byteOffset+=f.write(e||"",y.byteOffset,u,S)}function Ze(e){let f=z(e),u=e.toString(S,y.byteOffset,y.byteOffset+f);return y.byteOffset+=f,u}function $e(e,f){let u=e.length;X(u,f),e.copy(f,y.byteOffset),y.byteOffset+=u}function ke(e){let f=z(e),u=Y.Buffer.allocUnsafe(f);return e.copy(u,0,y.byteOffset,y.byteOffset+f),y.byteOffset+=f,u}var et={boolean:"!!buffer.readUInt8(bag.byteOffset, true); bag.byteOffset += 1;",int8:"buffer.readInt8(bag.byteOffset, true); bag.byteOffset += 1;",uint8:"buffer.readUInt8(bag.byteOffset, true); bag.byteOffset += 1;",int16:"buffer.readInt16BE(bag.byteOffset, true); bag.byteOffset += 2;",uint16:"buffer.readUInt16BE(bag.byteOffset, true); bag.byteOffset += 2;",int32:"buffer.readInt32BE(bag.byteOffset, true); bag.byteOffset += 4;",uint32:"buffer.readUInt32BE(bag.byteOffset, true); bag.byteOffset += 4;",float32:"buffer.readFloatBE(bag.byteOffset, true); bag.byteOffset += 4;",float64:"buffer.readDoubleBE(bag.byteOffset, true); bag.byteOffset += 8;",string:"bag.readString(buffer);",varuint:"bag.readVarUInt(buffer);",varint:"bag.readVarInt(buffer);",buffer:"bag.readBuffer(buffer);"};function tt(e,f){switch(e){case"boolean":return"bag.byteOffset = wBuffer.writeUInt8("+f+" ? 1 : 0, bag.byteOffset, true);";case"int8":return"bag.byteOffset = wBuffer.writeInt8("+f+", bag.byteOffset, true);";case"uint8":return"bag.byteOffset = wBuffer.writeUInt8("+f+", bag.byteOffset, true);";case"int16":return"bag.byteOffset = wBuffer.writeInt16BE("+f+", bag.byteOffset, true);";case"uint16":return"bag.byteOffset = wBuffer.writeUInt16BE("+f+", bag.byteOffset, true);";case"int32":return"bag.byteOffset = wBuffer.writeInt32BE("+f+", bag.byteOffset, true);";case"uint32":return"bag.byteOffset = wBuffer.writeUInt32BE("+f+", bag.byteOffset, true);";case"float32":return"bag.byteOffset = wBuffer.writeFloatBE("+f+", bag.byteOffset, true);";case"float64":return"bag.byteOffset = wBuffer.writeDoubleBE("+f+", bag.byteOffset, true);";case"string":return"bag.writeString("+f+", wBuffer);";case"varuint":return"bag.writeVarUInt("+f+", wBuffer);";case"varint":return"bag.writeVarInt("+f+", wBuffer);";case"buffer":return"bag.writeBuffer("+f+", wBuffer);";default:return""}}var nt={boolean:1,int8:1,uint8:1,int16:2,uint16:2,int32:4,uint32:4,float32:4,float64:8},rt={string:e=>{let f=Y.Buffer.byteLength(e,S);return R(f)+f},varuint:e=>R(e),varint:e=>ft(e),buffer:e=>{let f=e.length;return R(f)+f}};function R(e){return e<=0?1:Math.floor(Math.log(e)/Math.log(128))+1}function ft(e){return R(e<<1^e>>31)}function ot(e){return Y.Buffer.allocUnsafe(e)}var y={allocUnsafe:ot,getVarUIntByteLength:R,dynamicByteCounts:rt,readVarUInt:z,readVarInt:Ke,writeVarUInt:X,writeVarInt:Je,readString:Ze,writeString:Qe,readBuffer:ke,writeBuffer:$e,throwTypeError:ct,byteOffset:0};function ee(e,f,u,t,n){let r=t<=1?f:f+"xn",o=n!=null?n:"ref"+r+".length",i="j"+f;return"for (let "+i+"="+(e.length-1)+";"+i+"<"+o+";"+i+"++) { "+u+"}"}function at(e){return"byteC+=bag.getVarUIntByteLength(ref"+e+".length);"}function it(e){return"bag.writeVarUInt(ref"+e+".length,wBuffer);"}function ut(e){return"let "+e+"=bag.readVarUInt(buffer);"}function te(e,f,u,t){return"let ref"+e+"="+t+"; ref"+f+"["+u+"]=ref"+e+";"}function H(e,f,u){return"let ref"+e+"=ref"+f+"["+u+"];"}function Ne(e,f,u,t,n,r,o,i){let a=Le(r,u),c=e?"j"+u:t;r[r.length-1]+=H(f+"xn",a,c),o[o.length-1]+=te(f+"xn",a,c,n),i[i.length-1]+=H(f+"xn",a,c)}function ct(e,f,u,t,n){if(typeof e!==f)throw new TypeError(e+" does not match the type of "+f);if(u!==void 0&&e<u)throw new TypeError(e+" is less than minimum allowed value of "+u+" for schema type "+n);if(t!==void 0&&e>t)throw new TypeError(e+" is greater than maximum allowed value of "+t+" for schema type "+n)}function st(e){let f="bag.throwTypeError("+e+",'Buffer or Uint8Array');";return"if ("+e+" instanceof Uint8Array === false && "+e+" instanceof Buffer === false){"+f+"}"}function Ue(e,f){let u="bag.throwTypeError("+e+",'"+f+"');";return"if (typeof("+e+") !== '"+f+"'){"+u+"}"}function B(e,f,u,t){let n="bag.throwTypeError("+e+",'number',"+f+","+u+",'"+t+"');";return"if (typeof("+e+") !== 'number'||"+e+"<"+f+"||"+e+">"+u+"){"+n+"}"}function lt(e,f){let u=34028234663852886e22;switch(e){case"boolean":return Ue(f,"boolean");case"int8":return B(f,-128,127,"int8");case"uint8":return B(f,0,255,"uint8");case"int16":return B(f,-32768,32767,"int16");case"uint16":return B(f,0,65535,"uint16");case"int32":return B(f,-2147483648,2147483647,"int32");case"uint32":return B(f,0,4294967295,"uint32");case"float32":return B(f,-u,u,"float32");case"float64":return B(f,-Number.MAX_VALUE,Number.MAX_VALUE,"float64");case"string":return Ue(f,"string");case"varuint":return B(f,0,2147483647,"varuint");case"varint":return B(f,-1073741824,1073741823,"varint");case"buffer":return st(f)}}function Me(e,f,u,t){let n="ref"+f+u;return(t?lt(e,n):"")+tt(e,n)}function Ye(e,f,u){return"ref"+f+u+"="+et[e]}function Se(e,f,u){return j.isConstantType(e)?"byteC+="+nt[e]+";":"byteC+=bag.dynamicByteCounts['"+e+"'](ref"+f+u+");"}function Le(e,f){return e.length<=2&&e[e.length-1].length<=0?f:f+"xn"}function bt(e,f){let u=0,t="",n="let ref1={};",r="",o="let ref1=json;",i=[""],a=[""],c=[""],b="",h="",s="",p={a:e};function w(I,P){u++;let J=Object.keys(I),O=u;for(let N=0;N<J.length;N++){let D=J[N],T=I[D];P&&(D=+D);let A=typeof D=="number"?D:"'"+D+"'",fe=Array.isArray(T)?"[]":"{}",x=P&&N>=J.length-1;if(x&&(i.push(""),a.push(""),c.push("")),Array.isArray(T)){let d=u+1,m=i.length<=1?d:d+"xn",C="arrLen"+u;i.length===1&&(o+=H(d,O,A),n+=te(d,O,A,"[]"));let L=it(m),Re=ut(C),Ve=at(m);Ne(x,d,O,A,fe,i,a,c),w(T,!0),b=L+ee(T,d,i.pop()+b,i.length),h=Re+ee(T,d,a.pop()+h,i.length,C),s=Ve+ee(T,d,c.pop()+s,i.length),i.length===1&&(t+=b,b="",n+=h,h="",r+=s,s="")}else if(typeof T=="object"){let d=u+1;i.length===1&&(o+=H(d,O,A),n+=te(d,O,A,"{}")),Ne(x,d,O,A,fe,i,a,c),w(T,!1)}else{let d=P?"":"["+A+"]",m=je(T);I[D]=m;let C=Le(i,O);if(P&&(C+=x?"[j"+O+"]":"["+N+"]"),i[i.length-1]+=Me(m,C,d,f),a[a.length-1]+=Ye(m,C,d),c[c.length-1]+=Se(m,C,d),i.length>1)continue;let L=P?O+"["+N+"]":O;t+=Me(m,L,d,f),n+=Ye(m,L,d),r+=Se(m,L,d)}}}w(p,!1),r="let byteC=0;".concat(r,"let wBuffer=buffer??bag.allocUnsafe(byteC);"),t=o.concat(r,t,"return wBuffer;"),n=n.concat("return ref1['a'];");let _=new Function("json","bag","buffer",t),v=new Function("buffer","bag",n);return[_,v]}Ce("bool","boolean");function yt(e,f){let[u,t]=bt(e,f!=null?f:$);return{[j.CompiledEncode]:u,[j.CompiledDecode]:t,encode(n,r){var o;y.byteOffset=(o=r==null?void 0:r.offset)!==null&&o!==void 0?o:0;let a=u({a:n},y,r==null?void 0:r.data);return r&&(r.offset=y.byteOffset),a},decode(n){let r;j.isBufferLike(n)?(r=n,y.byteOffset=0):(r=n.data,y.byteOffset=n.offset);let o=Y.Buffer.isBuffer(r)?r:Y.Buffer.from(r),i=t(o,y);return j.isBufferLike(n)||(n.offset=y.byteOffset),i}}}g.build=yt});var gt=U(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});var re=Q(),dt=re.__importStar(ne());re.__exportStar(Z(),V);re.__exportStar(ne(),V);V.default=dt});gt();})();
