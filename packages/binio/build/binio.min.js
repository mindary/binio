(()=>{var oe=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var N=(e,f)=>()=>(f||e((f={exports:{}}).exports,f),f.exports);var Q=N((pt,W)=>{var ae,ue,ie,ce,se,le,be,ye,de,q,K,ge,_e,pe,U,he,we,Oe,me,Ee,Te,Be,ve,F;(function(e){var f=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(t){e(i(f,i(t)))}):typeof W=="object"&&typeof W.exports=="object"?e(i(f,i(W.exports))):e(i(f));function i(t,n){return t!==f&&(typeof Object.create=="function"?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(r,o){return t[r]=n?n(r,o):o}}})(function(e){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])};ae=function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");f(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)},ue=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},ie=function(t,n){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(t);u<o.length;u++)n.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(t,o[u])&&(r[o[u]]=t[o[u]]);return r},ce=function(t,n,r,o){var u=arguments.length,a=u<3?n:o===null?o=Object.getOwnPropertyDescriptor(n,r):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,n,r,o);else for(var b=t.length-1;b>=0;b--)(c=t[b])&&(a=(u<3?c(a):u>3?c(n,r,a):c(n,r))||a);return u>3&&a&&Object.defineProperty(n,r,a),a},se=function(t,n){return function(r,o){n(r,o,t)}},le=function(t,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,n)},be=function(t,n,r,o){function u(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function b(p){try{s(o.next(p))}catch(w){c(w)}}function h(p){try{s(o.throw(p))}catch(w){c(w)}}function s(p){p.done?a(p.value):u(p.value).then(b,h)}s((o=o.apply(t,n||[])).next())})},ye=function(t,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,u,a,c;return c={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(s){return function(p){return h([s,p])}}function h(s){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,u&&(a=s[0]&2?u.return:s[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,s[1])).done)return a;switch(u=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,u=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){r.label=s[1];break}if(s[0]===6&&r.label<a[1]){r.label=a[1],a=s;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(s);break}a[2]&&r.ops.pop(),r.trys.pop();continue}s=n.call(t,r)}catch(p){s=[6,p],u=0}finally{o=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},de=function(t,n){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(n,r)&&F(n,t,r)},F=Object.create?function(t,n,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return n[r]}})}:function(t,n,r,o){o===void 0&&(o=r),t[o]=n[r]},q=function(t){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&t[n],o=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},K=function(t,n){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var o=r.call(t),u,a=[],c;try{for(;(n===void 0||n-- >0)&&!(u=o.next()).done;)a.push(u.value)}catch(b){c={error:b}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(c)throw c.error}}return a},ge=function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(K(arguments[n]));return t},_e=function(){for(var t=0,n=0,r=arguments.length;n<r;n++)t+=arguments[n].length;for(var o=Array(t),u=0,n=0;n<r;n++)for(var a=arguments[n],c=0,b=a.length;c<b;c++,u++)o[u]=a[c];return o},pe=function(t,n,r){if(r||arguments.length===2)for(var o=0,u=n.length,a;o<u;o++)(a||!(o in n))&&(a||(a=Array.prototype.slice.call(n,0,o)),a[o]=n[o]);return t.concat(a||Array.prototype.slice.call(n))},U=function(t){return this instanceof U?(this.v=t,this):new U(t)},he=function(t,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(t,n||[]),u,a=[];return u={},c("next"),c("throw"),c("return"),u[Symbol.asyncIterator]=function(){return this},u;function c(_){o[_]&&(u[_]=function(v){return new Promise(function(I,P){a.push([_,v,I,P])>1||b(_,v)})})}function b(_,v){try{h(o[_](v))}catch(I){w(a[0][3],I)}}function h(_){_.value instanceof U?Promise.resolve(_.value.v).then(s,p):w(a[0][2],_)}function s(_){b("next",_)}function p(_){b("throw",_)}function w(_,v){_(v),a.shift(),a.length&&b(a[0][0],a[0][1])}},we=function(t){var n,r;return n={},o("next"),o("throw",function(u){throw u}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(u,a){n[u]=t[u]?function(c){return(r=!r)?{value:U(t[u](c)),done:u==="return"}:a?a(c):c}:a}},Oe=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],r;return n?n.call(t):(t=typeof q=="function"?q(t):t[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(a){r[a]=t[a]&&function(c){return new Promise(function(b,h){c=t[a](c),u(b,h,c.done,c.value)})}}function u(a,c,b,h){Promise.resolve(h).then(function(s){a({value:s,done:b})},c)}},me=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t};var i=Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n};Ee=function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&F(n,t,r);return i(n,t),n},Te=function(t){return t&&t.__esModule?t:{default:t}},Be=function(t,n,r,o){if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?t!==n||!o:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?o:r==="a"?o.call(t):o?o.value:n.get(t)},ve=function(t,n,r,o,u){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?t!==n||!u:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?u.call(t,r):u?u.value=r:n.set(t,r),r},e("__extends",ae),e("__assign",ue),e("__rest",ie),e("__decorate",ce),e("__param",se),e("__metadata",le),e("__awaiter",be),e("__generator",ye),e("__exportStar",de),e("__createBinding",F),e("__values",q),e("__read",K),e("__spread",ge),e("__spreadArrays",_e),e("__spreadArray",pe),e("__await",U),e("__asyncGenerator",he),e("__asyncDelegator",we),e("__asyncValues",Oe),e("__makeTemplateObject",me),e("__importStar",Ee),e("__importDefault",Te),e("__classPrivateFieldGet",Be),e("__classPrivateFieldSet",ve)})});var Pe=N(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.isWritableBuffer=E.isBufferLike=E.CompiledDecode=E.CompiledEncode=void 0;var Ie=oe("buffer");E.CompiledEncode=Symbol("encode");E.CompiledDecode=Symbol("encode");function xe(e){return Ie.Buffer.isBuffer(e)||Array.isArray(e)||e.buffer&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number"}E.isBufferLike=xe;function qe(e){return Ie.Buffer.isBuffer(e)}E.isWritableBuffer=qe});var De=N(l=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.isDynamicType=l.isConstantType=l.DATA_TYPES=l.BUILTIN_TYPES=l.NUMBER_TYPE=l.DYNAMIC_TYPE=l.DYNAMIC_NUMBER_TYPE=l.CONSTANT_TYPE=l.CONSTANT_NUMBER_TYPE=void 0;l.CONSTANT_NUMBER_TYPE=["int8","uint8","int16","uint16","int32","uint32","float32","float64"];l.CONSTANT_TYPE=["boolean",...l.CONSTANT_NUMBER_TYPE];l.DYNAMIC_NUMBER_TYPE=["varuint","varint"];l.DYNAMIC_TYPE=[...l.DYNAMIC_NUMBER_TYPE,"string","buffer"];l.NUMBER_TYPE=[...l.CONSTANT_NUMBER_TYPE,...l.DYNAMIC_NUMBER_TYPE];l.BUILTIN_TYPES=[...l.CONSTANT_TYPE,...l.DYNAMIC_TYPE];l.DATA_TYPES=[...l.BUILTIN_TYPES];function Fe(e){return l.CONSTANT_TYPE.includes(e)}l.isConstantType=Fe;function We(e){return l.DYNAMIC_TYPE.includes(e)}l.isDynamicType=We});var Z=N(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});var Ae=Q();Ae.__exportStar(Pe(),G);Ae.__exportStar(De(),G)});var ne=N(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.build=g.setStringEncoding=g.getStringEncoding=g.setValidateByDefault=g.getValidateByDefault=g.getDataType=g.addTypeAlias=g.StringEncoding=void 0;var M=oe("buffer"),Y=Z();g.StringEncoding=["ascii","utf8","utf-8","utf16le","ucs2","ucs-2","base64","base64url","latin1","binary","hex"];var S="utf8",$=!0,k={};function Ce(e,f){if(Y.BUILTIN_TYPES.indexOf(f)<0)throw new TypeError("Underlying type does not exist. Typo?");k[e]=f}g.addTypeAlias=Ce;function je(e){let f=Y.BUILTIN_TYPES,i=e.trim().toLowerCase();if(i in k&&(i=k[i]),f.indexOf(i)===-1)throw new TypeError("Invalid data type for schema: "+e+" -> "+i);return i}g.getDataType=je;function Ge(){return $}g.getValidateByDefault=Ge;function Xe(e){$=e}g.setValidateByDefault=Xe;function ze(){return S}g.getStringEncoding=ze;function He(e){let f=e.trim().toLowerCase();if(g.StringEncoding.indexOf(f)>-1)S=f;else throw new TypeError("String encoding not available")}g.setStringEncoding=He;function X(e,f){for(;e>127;)f[d.byteOffset++]=e&127|128,e>>=7;f[d.byteOffset++]=e&127}function Je(e,f){X(e<<1^e>>31,f)}function z(e){let f=0,i=0,t;do t=e[d.byteOffset++],f|=(t&127)<<7*i,i++;while(t&128);return f}function Ke(e){let f=z(e);return f>>>1^-(f&1)}function Qe(e,f){let i=M.Buffer.byteLength(e||"",S);X(i,f),d.byteOffset+=f.write(e||"",d.byteOffset,i,S)}function Ze(e){let f=z(e),i=e.toString(S,d.byteOffset,d.byteOffset+f);return d.byteOffset+=f,i}function $e(e,f){let i=e.length;X(i,f),e.copy(f,d.byteOffset),d.byteOffset+=i}function ke(e){let f=z(e),i=M.Buffer.allocUnsafe(f);return e.copy(i,0,d.byteOffset,d.byteOffset+f),d.byteOffset+=f,i}var et={boolean:"!!buffer.readUInt8(bag.byteOffset, true); bag.byteOffset += 1;",int8:"buffer.readInt8(bag.byteOffset, true); bag.byteOffset += 1;",uint8:"buffer.readUInt8(bag.byteOffset, true); bag.byteOffset += 1;",int16:"buffer.readInt16BE(bag.byteOffset, true); bag.byteOffset += 2;",uint16:"buffer.readUInt16BE(bag.byteOffset, true); bag.byteOffset += 2;",int32:"buffer.readInt32BE(bag.byteOffset, true); bag.byteOffset += 4;",uint32:"buffer.readUInt32BE(bag.byteOffset, true); bag.byteOffset += 4;",float32:"buffer.readFloatBE(bag.byteOffset, true); bag.byteOffset += 4;",float64:"buffer.readDoubleBE(bag.byteOffset, true); bag.byteOffset += 8;",string:"bag.readString(buffer);",varuint:"bag.readVarUInt(buffer);",varint:"bag.readVarInt(buffer);",buffer:"bag.readBuffer(buffer);"};function tt(e,f){switch(e){case"boolean":return"bag.byteOffset = wBuffer.writeUInt8("+f+" ? 1 : 0, bag.byteOffset, true);";case"int8":return"bag.byteOffset = wBuffer.writeInt8("+f+", bag.byteOffset, true);";case"uint8":return"bag.byteOffset = wBuffer.writeUInt8("+f+", bag.byteOffset, true);";case"int16":return"bag.byteOffset = wBuffer.writeInt16BE("+f+", bag.byteOffset, true);";case"uint16":return"bag.byteOffset = wBuffer.writeUInt16BE("+f+", bag.byteOffset, true);";case"int32":return"bag.byteOffset = wBuffer.writeInt32BE("+f+", bag.byteOffset, true);";case"uint32":return"bag.byteOffset = wBuffer.writeUInt32BE("+f+", bag.byteOffset, true);";case"float32":return"bag.byteOffset = wBuffer.writeFloatBE("+f+", bag.byteOffset, true);";case"float64":return"bag.byteOffset = wBuffer.writeDoubleBE("+f+", bag.byteOffset, true);";case"string":return"bag.writeString("+f+", wBuffer);";case"varuint":return"bag.writeVarUInt("+f+", wBuffer);";case"varint":return"bag.writeVarInt("+f+", wBuffer);";case"buffer":return"bag.writeBuffer("+f+", wBuffer);";default:return""}}var nt={boolean:1,int8:1,uint8:1,int16:2,uint16:2,int32:4,uint32:4,float32:4,float64:8},rt={string:e=>{let f=M.Buffer.byteLength(e,S);return R(f)+f},varuint:e=>R(e),varint:e=>ft(e),buffer:e=>{let f=e.length;return R(f)+f}};function R(e){return e<=0?1:Math.floor(Math.log(e)/Math.log(128))+1}function ft(e){return R(e<<1^e>>31)}function ot(e){return M.Buffer.allocUnsafe(e)}var d={allocUnsafe:ot,getVarUIntByteLength:R,dynamicByteCounts:rt,readVarUInt:z,readVarInt:Ke,writeVarUInt:X,writeVarInt:Je,readString:Ze,writeString:Qe,readBuffer:ke,writeBuffer:$e,throwTypeError:ct,byteOffset:0};function ee(e,f,i,t,n){let r=t<=1?f:f+"xn",o=n!=null?n:"ref"+r+".length",u="j"+f;return"for (let "+u+"="+(e.length-1)+";"+u+"<"+o+";"+u+"++) { "+i+"}"}function at(e){return"byteC+=bag.getVarUIntByteLength(ref"+e+".length);"}function ut(e){return"bag.writeVarUInt(ref"+e+".length,wBuffer);"}function it(e){return"let "+e+"=bag.readVarUInt(buffer);"}function te(e,f,i,t){return"let ref"+e+"="+t+"; ref"+f+"["+i+"]=ref"+e+";"}function H(e,f,i){return"let ref"+e+"=ref"+f+"["+i+"];"}function Ne(e,f,i,t,n,r,o,u){let a=Le(r,i),c=e?"j"+i:t;r[r.length-1]+=H(f+"xn",a,c),o[o.length-1]+=te(f+"xn",a,c,n),u[u.length-1]+=H(f+"xn",a,c)}function ct(e,f,i,t,n){if(typeof e!==f)throw new TypeError(e+" does not match the type of "+f);if(i!==void 0&&e<i)throw new TypeError(e+" is less than minimum allowed value of "+i+" for schema type "+n);if(t!==void 0&&e>t)throw new TypeError(e+" is greater than maximum allowed value of "+t+" for schema type "+n)}function st(e){let f="bag.throwTypeError("+e+",'Buffer or Uint8Array');";return"if ("+e+" instanceof Uint8Array === false && "+e+" instanceof Buffer === false){"+f+"}"}function Ue(e,f){let i="bag.throwTypeError("+e+",'"+f+"');";return"if (typeof("+e+") !== '"+f+"'){"+i+"}"}function T(e,f,i,t){let n="bag.throwTypeError("+e+",'number',"+f+","+i+",'"+t+"');";return"if (typeof("+e+") !== 'number'||"+e+"<"+f+"||"+e+">"+i+"){"+n+"}"}function lt(e,f){let i=34028234663852886e22;switch(e){case"boolean":return Ue(f,"boolean");case"int8":return T(f,-128,127,"int8");case"uint8":return T(f,0,255,"uint8");case"int16":return T(f,-32768,32767,"int16");case"uint16":return T(f,0,65535,"uint16");case"int32":return T(f,-2147483648,2147483647,"int32");case"uint32":return T(f,0,4294967295,"uint32");case"float32":return T(f,-i,i,"float32");case"float64":return T(f,-Number.MAX_VALUE,Number.MAX_VALUE,"float64");case"string":return Ue(f,"string");case"varuint":return T(f,0,2147483647,"varuint");case"varint":return T(f,-1073741824,1073741823,"varint");case"buffer":return st(f)}}function Me(e,f,i,t){let n="ref"+f+i;return(t?lt(e,n):"")+tt(e,n)}function Ye(e,f,i){return"ref"+f+i+"="+et[e]}function Se(e,f,i){return Y.isConstantType(e)?"byteC+="+nt[e]+";":"byteC+=bag.dynamicByteCounts['"+e+"'](ref"+f+i+");"}function Le(e,f){return e.length<=2&&e[e.length-1].length<=0?f:f+"xn"}function bt(e,f){let i=0,t="",n="let ref1={};",r="",o="let ref1=json;",u=[""],a=[""],c=[""],b="",h="",s="",p={a:e};function w(I,P){i++;let J=Object.keys(I),O=i;for(let j=0;j<J.length;j++){let D=J[j],B=I[D];P&&(D=+D);let A=typeof D=="number"?D:"'"+D+"'",fe=Array.isArray(B)?"[]":"{}",x=P&&j>=J.length-1;if(x&&(u.push(""),a.push(""),c.push("")),Array.isArray(B)){let y=i+1,m=u.length<=1?y:y+"xn",C="arrLen"+i;u.length===1&&(o+=H(y,O,A),n+=te(y,O,A,"[]"));let L=ut(m),Re=it(C),Ve=at(m);Ne(x,y,O,A,fe,u,a,c),w(B,!0),b=L+ee(B,y,u.pop()+b,u.length),h=Re+ee(B,y,a.pop()+h,u.length,C),s=Ve+ee(B,y,c.pop()+s,u.length),u.length===1&&(t+=b,b="",n+=h,h="",r+=s,s="")}else if(typeof B=="object"){let y=i+1;u.length===1&&(o+=H(y,O,A),n+=te(y,O,A,"{}")),Ne(x,y,O,A,fe,u,a,c),w(B,!1)}else{let y=P?"":"["+A+"]",m=je(B);I[D]=m;let C=Le(u,O);if(P&&(C+=x?"[j"+O+"]":"["+j+"]"),u[u.length-1]+=Me(m,C,y,f),a[a.length-1]+=Ye(m,C,y),c[c.length-1]+=Se(m,C,y),u.length>1)continue;let L=P?O+"["+j+"]":O;t+=Me(m,L,y,f),n+=Ye(m,L,y),r+=Se(m,L,y)}}}w(p,!1),r="let byteC=0;".concat(r,"let wBuffer=buffer??bag.allocUnsafe(byteC);"),t=o.concat(r,t,"return wBuffer;"),n=n.concat("return ref1['a'];");let _=new Function("json","bag","buffer",t),v=new Function("buffer","bag",n);return[_,v]}Ce("bool","boolean");function yt(e,f){let[i,t]=bt(e,f!=null?f:$);return{[Y.CompiledEncode]:i,[Y.CompiledDecode]:t,encode(n,r){var o;d.byteOffset=(o=r==null?void 0:r.offset)!==null&&o!==void 0?o:0;let a=i({a:n},d,r==null?void 0:r.data);return r&&(r.offset=d.byteOffset),a},decode(n){let r=Y.isBufferLike(n)?{data:n,offset:0}:n;d.byteOffset=r.offset;let o=M.Buffer.isBuffer(r.data)?r.data:M.Buffer.from(r.data),u=t(o,d);return r.offset=d.byteOffset,u}}}g.build=yt});var gt=N(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});var re=Q(),dt=re.__importStar(ne());re.__exportStar(Z(),V);re.__exportStar(ne(),V);V.default=dt});gt();})();
